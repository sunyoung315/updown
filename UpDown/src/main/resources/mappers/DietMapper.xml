<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ssafy.updown.model.dao.DietDao">

<!-- 식단 등록 -->
<insert id="insertDiet" parameterType="Diet">
	INSERT INTO diet (category, food, calorie, reg_date, user_id)
	VALUES(#{category}, #{food}, #{calorie}, #{regDate}, #{userId})
</insert>

<!-- 식단 수정 -->
<update id="updateDiet" parameterType="Diet">
	UPDATE diet
	SET category=#{category}, food=#{food}, calorie=#{calorie}
	WHERE no=#{no}
</update>

<!-- 식단 삭제 -->
<delete id="deleteDiet" parameterType="int">
	DELETE FROM diet
	WHERE no=#{no}
</delete>

<!-- 하루 식단 기록 조회 -->
<select id="getDietOneday" parameterType="map" resultType="Diet">
	SELECT no, category, food, calorie, reg_date as regDate, user_id as userId
	FROM diet
	WHERE reg_date = #{regDate} AND user_id = #{loginUserId}
</select>

<!-- 식단 하나 조회 -->
<select id="getDietOne" parameterType="int" resultType="Diet">
	SELECT no, category, food, calorie, reg_date as regDate, user_id as userId
	FROM diet
	WHERE no=#{no}
</select>

</mapper>